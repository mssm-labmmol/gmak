prefix = _PREFIX_
srcdir = _SRCDIR_/src
bindir = $(prefix)

ana_rw_cpp = -DQUIET
ana_rw_lib = -lm -fopenmp
ana_rw_source = $(srcdir)/ana_rw/ana_rw.c
python_source = $(wildcard $(srcdir)/python/*.py)

all: prepare ana_rw python

prepare:
	mkdir -p $(bindir)

ana_rw: $(ana_rw_source)
	gcc $(ana_rw_cpp) $(ana_rw_source) -o $(bindir)/ana_rw_quiet $(ana_rw_lib)

python: $(python_source)
	cp $^ $(bindir)/
